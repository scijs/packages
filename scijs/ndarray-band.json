{"readme":"<h1 class=\"title\"><a target=\"_blank\" href=\"https://github.com/scijs/ndarray-band\">ndarray-band</a><div class=\"contrib\"></div></h1>\n<p><a href=\"https://travis-ci.org/scijs/ndarray-band\"></a> <a href=\"http://badge.fury.io/js/ndarray-band\"></a> <a href=\"https://david-dm.org/scijs/ndarray-band\"></a></p>\n<p>Create a view of a band of an ndarray</p>\n<h2 id=\"introduction\">Introduction</h2>\n<p>First things first, if bands are meaningful in your matrix problem, there&apos;s a chance you should really just be dealing with the bands directly using algorithms designed to work with, for example, tridiagonal or Toeplitz matrices. But if you need a band, then this module provides a convenience function to extract a view of a band, i.e. a diagonal with an offset.</p>\n<p>Note that for an ndarray of dimension <img alt=\"d\" valign=\"middle\" width=\"14.5\" height=\"20\" src=\"https://raw.githubusercontent.com/scijs/ndarray-band/master/docs/images/d-16937d4263.png\">, since the band is a one-dimensional array, only <img alt=\"d-1\" valign=\"middle\" width=\"49\" height=\"22\" src=\"https://raw.githubusercontent.com/scijs/ndarray-band/master/docs/images/d-1-0b692e3677.png\"> offsets are necessary. Thus, the offsets are given for dimensions <img alt=\"1, 2, \\ldots, d-1\" valign=\"middle\" width=\"122\" height=\"24\" src=\"https://raw.githubusercontent.com/scijs/ndarray-band/master/docs/images/1-2-ldots-d-1-22dde7ff62.png\">.</p>\n<p>Also note that for dimensions greater than two, this gets a little confusing. Here&apos;s a more precise specification that&apos;s not exactly less confusing, but at least it&apos;s precise: Given an array <img alt=\"A\" valign=\"middle\" width=\"19\" height=\"20\" src=\"https://raw.githubusercontent.com/scijs/ndarray-band/master/docs/images/a-ab9f9c6779.png\"> and offsets <img alt=\"\\mathrm{offset}_1\" valign=\"middle\" width=\"59\" height=\"23\" src=\"https://raw.githubusercontent.com/scijs/ndarray-band/master/docs/images/mathrmoffset_1-b161aee517.png\">, <img alt=\"\\mathrm{offset}_2\" valign=\"middle\" width=\"59\" height=\"23\" src=\"https://raw.githubusercontent.com/scijs/ndarray-band/master/docs/images/mathrmoffset_2-bb6efbd13a.png\">, ..., <img alt=\"\\mathrm{offset}_{d-1}\" valign=\"middle\" width=\"80\" height=\"25\" src=\"https://raw.githubusercontent.com/scijs/ndarray-band/master/docs/images/mathrmoffset_d-1-7d7845f591.png\">, ndarray-band returns a view of <img alt=\"A\" valign=\"middle\" width=\"19\" height=\"20\" src=\"https://raw.githubusercontent.com/scijs/ndarray-band/master/docs/images/a-ab9f9c6779.png\"> at </p>\n<p align=\"center\"><img alt=\"A(\\mathrm{offset}_1 + i_1 + i, \\mathrm{offset}_2 + i_1 + i,\\; \\ldots,\\;\\mathrm{offset}_{d-1} + i_1 + i, i_1 + i)\" valign=\"middle\" width=\"554.5\" height=\"49\" src=\"https://raw.githubusercontent.com/scijs/ndarray-band/master/docs/images/amathrmoffset_1-i_1-i-mathrmoffset_2-i_1-i-ld-c37a4e01e5.png\"></p>\n\n<p> where <img alt=\"i_1\" valign=\"middle\" width=\"20\" height=\"23\" src=\"https://raw.githubusercontent.com/scijs/ndarray-band/master/docs/images/i_1-b3e00247b1.png\"> is the the first element that falls within the bounds of <img alt=\"A\" valign=\"middle\" width=\"19\" height=\"20\" src=\"https://raw.githubusercontent.com/scijs/ndarray-band/master/docs/images/a-ab9f9c6779.png\"> and <img alt=\"i\" valign=\"middle\" width=\"11\" height=\"20\" src=\"https://raw.githubusercontent.com/scijs/ndarray-band/master/docs/images/i-7e6a3286a9.png\"> is the index of the view starting at zero. The length of the band will be such that it only ever contains element within the bounds of <img alt=\"A\" valign=\"middle\" width=\"19\" height=\"20\" src=\"https://raw.githubusercontent.com/scijs/ndarray-band/master/docs/images/a-ab9f9c6779.png\">.</p>\n<p>To make that actually concrete, the bands of a <img alt=\"3 \\times 4\" valign=\"middle\" width=\"48.5\" height=\"22\" src=\"https://raw.githubusercontent.com/scijs/ndarray-band/master/docs/images/3-times-4-9908d9131f.png\"> matrix are indexed like:</p>\n<p align=\"center\"><img alt=\"\\left[ \\begin{array}{cccc}\nc_0 &amp; d_0 &amp; e_0 &amp; f_0 \\\\\nb_0 &amp; c_1 &amp; d_1 &amp; e_1 \\\\\na_0 &amp; b_1 &amp; c_2 &amp; d_2\n\\end{array}\\right]\" valign=\"middle\" width=\"188\" height=\"94\" src=\"https://raw.githubusercontent.com/scijs/ndarray-band/master/docs/images/left-beginarraycccc-c_0-d_0-e_0-f_0-b_0-c_1-d-0158dede7b.png\"></p>\n\n<h2 id=\"example\">Example</h2>\n<p>Consider constructing the <img alt=\"10 \\times 10\" valign=\"middle\" width=\"68.5\" height=\"22\" src=\"https://raw.githubusercontent.com/scijs/ndarray-band/master/docs/images/10-times-10-c93cbd0678.png\"> 1-D discrete Laplacian operator. Of course in any realistic problem you&apos;d obviously want to avoid constructing this at all costs, but there are cases where it&apos;s necessary or at least useful to refer to a band view.</p>\n<pre><code class=\"lang-javascript\"><div class=\"line\"><span class=\"source js\"><span class=\"storage type var js\"><span>var</span></span><span>&#xA0;pool&#xA0;</span><span class=\"keyword operator assignment js\"><span>=</span></span><span>&#xA0;</span><span class=\"support function js\"><span>require</span></span><span class=\"meta brace round js\"><span>(</span></span><span class=\"string quoted single js\"><span class=\"punctuation definition string begin js\"><span>&apos;</span></span><span>ndarray-scratch</span><span class=\"punctuation definition string end js\"><span>&apos;</span></span></span><span class=\"meta brace round js\"><span>)</span></span><span class=\"meta delimiter object comma js\"><span>,</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;&#xA0;&#xA0;&#xA0;ops&#xA0;</span><span class=\"keyword operator assignment js\"><span>=</span></span><span>&#xA0;</span><span class=\"support function js\"><span>require</span></span><span class=\"meta brace round js\"><span>(</span></span><span class=\"string quoted single js\"><span class=\"punctuation definition string begin js\"><span>&apos;</span></span><span>ndarray-ops</span><span class=\"punctuation definition string end js\"><span>&apos;</span></span></span><span class=\"meta brace round js\"><span>)</span></span><span class=\"meta delimiter object comma js\"><span>,</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;&#xA0;&#xA0;&#xA0;band&#xA0;</span><span class=\"keyword operator assignment js\"><span>=</span></span><span>&#xA0;</span><span class=\"support function js\"><span>require</span></span><span class=\"meta brace round js\"><span>(</span></span><span class=\"string quoted single js\"><span class=\"punctuation definition string begin js\"><span>&apos;</span></span><span>ndarray-band</span><span class=\"punctuation definition string end js\"><span>&apos;</span></span></span><span class=\"meta brace round js\"><span>)</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;</span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"storage type var js\"><span>var</span></span><span>&#xA0;A&#xA0;</span><span class=\"keyword operator assignment js\"><span>=</span></span><span>&#xA0;</span><span class=\"variable other object js\"><span>pool</span></span><span class=\"meta method-call js\"><span class=\"meta delimiter method period js\"><span>.</span></span><span class=\"entity name function js\"><span>zeros</span></span><span class=\"punctuation definition arguments begin js\"><span>(</span></span><span class=\"meta brace square js\"><span>[</span></span><span class=\"constant numeric js\"><span>10</span></span><span class=\"meta delimiter object comma js\"><span>,</span></span><span class=\"constant numeric js\"><span>10</span></span><span class=\"meta brace square js\"><span>]</span></span><span class=\"punctuation definition arguments end js\"><span>)</span></span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;</span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"variable other object js\"><span>ops</span></span><span class=\"meta method-call js\"><span class=\"meta delimiter method period js\"><span>.</span></span><span class=\"entity name function js\"><span>assigns</span></span><span class=\"punctuation definition arguments begin js\"><span>(</span></span><span>&#xA0;</span><span class=\"meta function-call js\"><span class=\"entity name function js\"><span>band</span></span><span class=\"punctuation definition arguments begin js\"><span>(</span></span><span>A</span><span class=\"meta delimiter object comma js\"><span>,</span></span><span class=\"keyword operator js\"><span>-</span></span><span class=\"constant numeric js\"><span>1</span></span><span class=\"punctuation definition arguments end js\"><span>)</span></span></span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&#xA0;&#xA0;</span><span class=\"constant numeric js\"><span>1</span></span><span>&#xA0;</span><span class=\"punctuation definition arguments end js\"><span>)</span></span></span><span>&#xA0;&#xA0;</span><span class=\"comment line double-slash js\"><span class=\"punctuation definition comment js\"><span>//</span></span><span>&#xA0;(superdiagonal)</span><span>&#xA0;</span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"variable other object js\"><span>ops</span></span><span class=\"meta method-call js\"><span class=\"meta delimiter method period js\"><span>.</span></span><span class=\"entity name function js\"><span>assigns</span></span><span class=\"punctuation definition arguments begin js\"><span>(</span></span><span>&#xA0;</span><span class=\"meta function-call js\"><span class=\"entity name function js\"><span>band</span></span><span class=\"punctuation definition arguments begin js\"><span>(</span></span><span>A</span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&#xA0;</span><span class=\"constant numeric js\"><span>0</span></span><span class=\"punctuation definition arguments end js\"><span>)</span></span></span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&#xA0;</span><span class=\"keyword operator js\"><span>-</span></span><span class=\"constant numeric js\"><span>2</span></span><span>&#xA0;</span><span class=\"punctuation definition arguments end js\"><span>)</span></span></span><span>&#xA0;&#xA0;</span><span class=\"comment line double-slash js\"><span class=\"punctuation definition comment js\"><span>//</span></span><span>&#xA0;(diagonal)</span><span>&#xA0;</span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"variable other object js\"><span>ops</span></span><span class=\"meta method-call js\"><span class=\"meta delimiter method period js\"><span>.</span></span><span class=\"entity name function js\"><span>assigns</span></span><span class=\"punctuation definition arguments begin js\"><span>(</span></span><span>&#xA0;</span><span class=\"meta function-call js\"><span class=\"entity name function js\"><span>band</span></span><span class=\"punctuation definition arguments begin js\"><span>(</span></span><span>A</span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&#xA0;</span><span class=\"constant numeric js\"><span>1</span></span><span class=\"punctuation definition arguments end js\"><span>)</span></span></span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&#xA0;&#xA0;</span><span class=\"constant numeric js\"><span>1</span></span><span>&#xA0;</span><span class=\"punctuation definition arguments end js\"><span>)</span></span></span><span>&#xA0;&#xA0;</span><span class=\"comment line double-slash js\"><span class=\"punctuation definition comment js\"><span>//</span></span><span>&#xA0;(subdiagonal)</span><span>&#xA0;</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;</span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"comment line double-slash js\"><span class=\"punctuation definition comment js\"><span>//</span></span><span>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;[&#xA0;-2&#xA0;&#xA0;&#xA0;&#xA0;1&#xA0;&#xA0;&#xA0;&#xA0;0&#xA0;&#xA0;&#xA0;&#xA0;0&#xA0;&#xA0;&#xA0;&#xA0;0&#xA0;&#xA0;&#xA0;&#xA0;0&#xA0;&#xA0;&#xA0;&#xA0;0&#xA0;&#xA0;&#xA0;&#xA0;0&#xA0;&#xA0;&#xA0;&#xA0;0&#xA0;&#xA0;&#xA0;&#xA0;0&#xA0;]</span><span>&#xA0;</span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"comment line double-slash js\"><span class=\"punctuation definition comment js\"><span>//</span></span><span>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;[&#xA0;&#xA0;1&#xA0;&#xA0;&#xA0;-2&#xA0;&#xA0;&#xA0;&#xA0;1&#xA0;&#xA0;&#xA0;&#xA0;0&#xA0;&#xA0;&#xA0;&#xA0;0&#xA0;&#xA0;&#xA0;&#xA0;0&#xA0;&#xA0;&#xA0;&#xA0;0&#xA0;&#xA0;&#xA0;&#xA0;0&#xA0;&#xA0;&#xA0;&#xA0;0&#xA0;&#xA0;&#xA0;&#xA0;0&#xA0;]</span><span>&#xA0;</span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"comment line double-slash js\"><span class=\"punctuation definition comment js\"><span>//</span></span><span>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;[&#xA0;&#xA0;0&#xA0;&#xA0;&#xA0;&#xA0;1&#xA0;&#xA0;&#xA0;-2&#xA0;&#xA0;&#xA0;&#xA0;1&#xA0;&#xA0;&#xA0;&#xA0;0&#xA0;&#xA0;&#xA0;&#xA0;0&#xA0;&#xA0;&#xA0;&#xA0;0&#xA0;&#xA0;&#xA0;&#xA0;0&#xA0;&#xA0;&#xA0;&#xA0;0&#xA0;&#xA0;&#xA0;&#xA0;0&#xA0;]</span><span>&#xA0;</span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"comment line double-slash js\"><span class=\"punctuation definition comment js\"><span>//</span></span><span>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;[&#xA0;&#xA0;0&#xA0;&#xA0;&#xA0;&#xA0;0&#xA0;&#xA0;&#xA0;&#xA0;1&#xA0;&#xA0;&#xA0;-2&#xA0;&#xA0;&#xA0;&#xA0;1&#xA0;&#xA0;&#xA0;&#xA0;0&#xA0;&#xA0;&#xA0;&#xA0;0&#xA0;&#xA0;&#xA0;&#xA0;0&#xA0;&#xA0;&#xA0;&#xA0;0&#xA0;&#xA0;&#xA0;&#xA0;0&#xA0;]</span><span>&#xA0;</span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"comment line double-slash js\"><span class=\"punctuation definition comment js\"><span>//</span></span><span>&#xA0;&#xA0;A&#xA0;&#xA0;=&#xA0;&#xA0;[&#xA0;&#xA0;0&#xA0;&#xA0;&#xA0;&#xA0;0&#xA0;&#xA0;&#xA0;&#xA0;0&#xA0;&#xA0;&#xA0;&#xA0;1&#xA0;&#xA0;&#xA0;-2&#xA0;&#xA0;&#xA0;&#xA0;1&#xA0;&#xA0;&#xA0;&#xA0;0&#xA0;&#xA0;&#xA0;&#xA0;0&#xA0;&#xA0;&#xA0;&#xA0;0&#xA0;&#xA0;&#xA0;&#xA0;0&#xA0;]</span><span>&#xA0;</span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"comment line double-slash js\"><span class=\"punctuation definition comment js\"><span>//</span></span><span>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;[&#xA0;&#xA0;0&#xA0;&#xA0;&#xA0;&#xA0;0&#xA0;&#xA0;&#xA0;&#xA0;0&#xA0;&#xA0;&#xA0;&#xA0;0&#xA0;&#xA0;&#xA0;&#xA0;1&#xA0;&#xA0;&#xA0;-2&#xA0;&#xA0;&#xA0;&#xA0;1&#xA0;&#xA0;&#xA0;&#xA0;0&#xA0;&#xA0;&#xA0;&#xA0;0&#xA0;&#xA0;&#xA0;&#xA0;0&#xA0;]</span><span>&#xA0;</span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"comment line double-slash js\"><span class=\"punctuation definition comment js\"><span>//</span></span><span>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;[&#xA0;&#xA0;0&#xA0;&#xA0;&#xA0;&#xA0;0&#xA0;&#xA0;&#xA0;&#xA0;0&#xA0;&#xA0;&#xA0;&#xA0;0&#xA0;&#xA0;&#xA0;&#xA0;0&#xA0;&#xA0;&#xA0;&#xA0;1&#xA0;&#xA0;&#xA0;-2&#xA0;&#xA0;&#xA0;&#xA0;1&#xA0;&#xA0;&#xA0;&#xA0;0&#xA0;&#xA0;&#xA0;&#xA0;0&#xA0;]</span><span>&#xA0;</span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"comment line double-slash js\"><span class=\"punctuation definition comment js\"><span>//</span></span><span>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;[&#xA0;&#xA0;0&#xA0;&#xA0;&#xA0;&#xA0;0&#xA0;&#xA0;&#xA0;&#xA0;0&#xA0;&#xA0;&#xA0;&#xA0;0&#xA0;&#xA0;&#xA0;&#xA0;0&#xA0;&#xA0;&#xA0;&#xA0;0&#xA0;&#xA0;&#xA0;&#xA0;1&#xA0;&#xA0;&#xA0;-2&#xA0;&#xA0;&#xA0;&#xA0;1&#xA0;&#xA0;&#xA0;&#xA0;0&#xA0;]</span><span>&#xA0;</span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"comment line double-slash js\"><span class=\"punctuation definition comment js\"><span>//</span></span><span>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;[&#xA0;&#xA0;0&#xA0;&#xA0;&#xA0;&#xA0;0&#xA0;&#xA0;&#xA0;&#xA0;0&#xA0;&#xA0;&#xA0;&#xA0;0&#xA0;&#xA0;&#xA0;&#xA0;0&#xA0;&#xA0;&#xA0;&#xA0;0&#xA0;&#xA0;&#xA0;&#xA0;0&#xA0;&#xA0;&#xA0;&#xA0;1&#xA0;&#xA0;&#xA0;-2&#xA0;&#xA0;&#xA0;&#xA0;1&#xA0;]</span><span>&#xA0;</span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"comment line double-slash js\"><span class=\"punctuation definition comment js\"><span>//</span></span><span>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;[&#xA0;&#xA0;0&#xA0;&#xA0;&#xA0;&#xA0;0&#xA0;&#xA0;&#xA0;&#xA0;0&#xA0;&#xA0;&#xA0;&#xA0;0&#xA0;&#xA0;&#xA0;&#xA0;0&#xA0;&#xA0;&#xA0;&#xA0;0&#xA0;&#xA0;&#xA0;&#xA0;0&#xA0;&#xA0;&#xA0;&#xA0;0&#xA0;&#xA0;&#xA0;&#xA0;1&#xA0;&#xA0;&#xA0;-2&#xA0;]</span><span>&#xA0;</span></span></span></div>\n</code></pre>\n<h2 id=\"install\">Install</h2>\n<pre><code class=\"lang-sh\"><div class=\"line\"><span class=\"source shell\"><span>$&#xA0;npm&#xA0;install&#xA0;ndarray-band</span></span></div>\n</code></pre>\n<h2 id=\"api\">API</h2>\n<h3 id=\"-require-ndarray-band-a-offsets-\"><code>require(&apos;ndarray-band&apos;)( A, offsets )</code></h3>\n<p>Create a view of a band of an ndarray given offsets along the dimensions.</p>\n<ul>\n<li><code>A</code>: the ndarray of dimension <img alt=\"d\" valign=\"middle\" width=\"14.5\" height=\"20\" src=\"https://raw.githubusercontent.com/scijs/ndarray-band/master/docs/images/d-16937d4263.png\"> of which to create a view</li>\n<li><code>offsets</code>: an array of length <img alt=\"d-1\" valign=\"middle\" width=\"49\" height=\"22\" src=\"https://raw.githubusercontent.com/scijs/ndarray-band/master/docs/images/d-1-0b692e3677.png\"> containing the offset of the band along the respective dimensions. For the special case <img alt=\"d = 1\" valign=\"middle\" width=\"51\" height=\"20\" src=\"https://raw.githubusercontent.com/scijs/ndarray-band/master/docs/images/d-1-7ad594a652.png\">, the band is equal to the original vector so the offset is unused. For the special case <img alt=\"d = 2\" valign=\"middle\" width=\"51\" height=\"20\" src=\"https://raw.githubusercontent.com/scijs/ndarray-band/master/docs/images/d-2-557127d7f6.png\">, there is only one offset so a scalar is permitted in place of an array.</li>\n</ul>\n<p><strong>Returns</strong>: a 1-D ndarray starting at element 0 and of whatever length required such that the view will never contain an element outside the original ndarray.</p>\n<h2 id=\"credits\">Credits</h2>\n<p>(c) 2015 Ricky Reusser. MIT License</p>\n"}